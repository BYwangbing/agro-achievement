<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>供需发布-个人中心</title>
    <link rel="stylesheet" th:href="@{/bootstrap/dist/css/bootstrap.css}">
    <link rel="stylesheet" th:href="@{/css/jeDate_test.css}">
    <link rel="stylesheet" th:href="@{/css/jedate.css}">
    <link rel="stylesheet" th:href="@{/css/register.css}">
    <link rel="shortcut icon" type="image/x-icon" th:href="@{/images/favicon.ico}" media="screen"/>
    <script th:src="@{/js/jquery.js}"></script>
    <script th:src="@{/js/jedate.js}"></script>
    <!-- 编辑器编辑后，提交时执行js，获得编辑器的内容，赋值给textarea，用于向后台提交存入数据库 -->
    <script type="text/javascript">
        function modifyContent() {
            var content = document.getElementById("content");
            content.value = editor.txt.text();
        }
    </script>
</head>
<body>
<div class="box">
    <h3>填写基本信息</h3>
    <div class="title">需求说明</div>
        <form th:action="@{/demand/addDemand}" method="post" id="myform" onsubmit="modifyContent()">
            <table class="table table-hover table-bordered">
                <div class="form-group">
                    <!-- 编辑器编辑，提交时执行js，获得编辑器的内容，赋值给textarea，用于向后台提交存入数据库 -->
                    <input type="hidden" name="demandIntroduce" id="content">
                    <!--<textarea rows="5" cols="35" name="exampleContent" style="display:none;" id="content"></textarea>-->
                    <div id="editor">
                        <textarea  id="demandIntroduce" name="demandIntroduce" style="width: 100%;height: 100%;border: none;overflow:hidden; resize:none" ></textarea>
                    </div>
                </div>
                <tr>
                    <td>需求名字:</td>
                    <td><input type="text" name="demandName" class="form-control" required></td>
                    <input type="hidden"  th:value="${session.user.userId}" name="userId">
                    <td>预期价格:	</td>
                    <td><input type="text" name="expectedPrice" class="form-control" required></td>
                </tr>
                <tr>
                    <td>需求者:	</td>
                    <td><input type="text" name="demanders" class="form-control"  required/></td>
                    <td>联系人:</td>
                    <td style="border-right: none;"><input type="text" name="linkman" class="form-control" required /></td>
                </tr>
                <tr>
                    <td>电话:</td>
                    <td><input type="text" name="phone" class="form-control" required /></td>
                    <td>邮箱:</td>
                    <td><input type="text" name="email" class="form-control" required /></td>
                </tr>
                <tr>
                    <td colspan="6" class="pn-fbutton">
                        <input type="submit" value="提交"  class="btn btn-info" id="change"/>
                        <input type="button" value="重置"  class="btn btn-info" id="cancel" style="background-color: orangered" onclick="fomrReset()"/>
                    </td>
                </tr>
            </table>
        </form>
</div>
<script th:src="@{/js/demo.js}"></script>
<script type="text/javascript" th:src="@{/release/wangEditor.min.js}"></script>
<!-- 设置全屏功能的两个js文件，先引入jquery-3.2.1.min.js，在引入wangEditor-fullscreen-plugin.js -->
<script type="text/javascript" th:src="@{/release/jquery-3.2.1.min.js}"></script>
<script type="text/javascript" th:src="@{/release/wangEditor-fullscreen-plugin.js}"></script>
<script type="text/javascript">

    var E = window.wangEditor;
    var editor = new E('#editor');
    /* 处理上传图片的请求URL */
    // editor.customConfig.uploadImgServer = '/admin/upload'
    /* 定义上传图片的默认名字 */
    // editor.customConfig.uploadFileName = 'file'
    // 或者 var editor = new E( document.getElementById('editor') )
    editor.create();
    //初始化全屏插件
    E.fullscreen.init('#editor');
</script>
<script>
    function fomrReset()
    {
        document.getElementById("myform").reset();
    }
</script>
</body>
</html>